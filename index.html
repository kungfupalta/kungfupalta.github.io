<!DOCTYPE html>
<html lang="es">
<head>
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192"  href="/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/manifest.json">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/ms-icon-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ELLIEVERSO</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            background: #000000;
            overflow: hidden;
            width: 100vw;
            height: 100vh;
            position: fixed;
        }
        
        /* Fondo de estrellas */
        #stars {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
        }
        
        .star {
            position: absolute;
            background: white;
            border-radius: 50%;
            animation: twinkle linear infinite;
        }
        
        @keyframes twinkle {
            0%, 100% { opacity: 0.3; }
            50% { opacity: 1; }
        }
        
        /* Contenedor del universo */
        #universe {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 10;
        }
        
        /* Las Ellies con vida propia */
        .ellie {
            position: absolute;
            pointer-events: none;
            will-change: transform, opacity;
            transition: opacity 0.5s ease;
        }
        
        .ellie img {
            width: 100%;
            height: 100%;
            object-fit: contain;
            filter: drop-shadow(0 0 15px rgba(255, 255, 255, 0.4));
        }
        
        /* Estelas de movimiento */
        .trail {
            position: absolute;
            border-radius: 50%;
            background: radial-gradient(circle, rgba(255,255,255,0.6), transparent);
            pointer-events: none;
            z-index: 5;
        }
    </style>
</head>
<body>
    <div id="stars"></div>
    <div id="universe"></div>
    
    <script>
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // CONFIGURACIÃ“N DEL ELLIEVERSO CAÃ“TICO
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        const CONFIG = {
            ellieImages: [
                'img/1.png', 'img/2.png', 'img/3.png', 'img/4.png',
                'img/5.png', 'img/6.png', 'img/7.png', 'img/8.png',
                'img/9.png', 'img/10.png', 'img/11.png', 'img/12.png',
                'img/13.png', 'img/14.png'
            ],
            copiesPerImage: 6,  // CuÃ¡ntas copias de cada imagen
            minSize: 120,
            maxSize: 400,
            starCount: 300
        };
        
        const ellies = [];
        const universe = document.getElementById('universe');
        let animationFrame;
        
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // CREAR ESTRELLAS DE FONDO
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        function createStars() {
            const container = document.getElementById('stars');
            for (let i = 0; i < CONFIG.starCount; i++) {
                const star = document.createElement('div');
                star.className = 'star';
                star.style.width = star.style.height = `${Math.random() * 2 + 1}px`;
                star.style.left = `${Math.random() * 100}%`;
                star.style.top = `${Math.random() * 100}%`;
                star.style.animationDuration = `${Math.random() * 3 + 2}s`;
                star.style.animationDelay = `${Math.random() * 2}s`;
                container.appendChild(star);
            }
        }
        
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // MOVIMIENTOS ALEATORIOS DISPONIBLES
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        const MOVEMENTS = {
            // 1. Flotar suavemente
            float: (state, time) => {
                state.x += Math.sin(time * 0.001 + state.seed) * 0.5;
                state.y += Math.cos(time * 0.0008 + state.seed) * 0.3;
                state.rotation += 0.1;
            },
            
            // 2. Movimiento zigzag
            zigzag: (state, time) => {
                state.x += Math.sin(time * 0.002) * 2;
                state.y += state.speedY;
                if (state.y > window.innerHeight + 100) state.y = -100;
                state.rotation += 0.5;
            },
            
            // 3. Espiral
            spiral: (state, time) => {
                const angle = time * 0.001;
                const radius = (time * 0.05) % 300;
                state.x = state.centerX + Math.cos(angle) * radius;
                state.y = state.centerY + Math.sin(angle) * radius;
                state.rotation += 1;
            },
            
            // 4. Rebote
            bounce: (state, time) => {
                state.x += state.speedX;
                state.y += state.speedY;
                
                if (state.x <= 0 || state.x >= window.innerWidth) state.speedX *= -1;
                if (state.y <= 0 || state.y >= window.innerHeight) state.speedY *= -1;
                state.rotation += state.speedX * 0.5;
            },
            
            // 5. CÃ­rculos
            circle: (state, time) => {
                const angle = time * 0.002 + state.seed;
                state.x = state.centerX + Math.cos(angle) * state.radius;
                state.y = state.centerY + Math.sin(angle) * state.radius;
                state.rotation = angle * 20;
            },
            
            // 6. OndulaciÃ³n
            wave: (state, time) => {
                state.x += state.speedX;
                state.y = state.baseY + Math.sin(time * 0.003 + state.seed) * 100;
                if (state.x > window.innerWidth + 100) state.x = -100;
                state.rotation += 0.3;
            },
            
            // 7. CaÃ­da de hojas
            leaf: (state, time) => {
                state.x += Math.sin(time * 0.005 + state.seed) * 1.5;
                state.y += state.speedY * 0.5;
                state.rotation += Math.sin(time * 0.01) * 2;
                if (state.y > window.innerHeight + 100) {
                    state.y = -100;
                    state.x = Math.random() * window.innerWidth;
                }
            },
            
            // 8. Aleatorio caÃ³tico
            chaos: (state, time) => {
                if (Math.random() > 0.98) {
                    state.speedX = (Math.random() - 0.5) * 4;
                    state.speedY = (Math.random() - 0.5) * 4;
                }
                state.x += state.speedX;
                state.y += state.speedY;
                state.rotation += (Math.random() - 0.5) * 3;
                
                // Mantener en pantalla
                if (state.x < -100 || state.x > window.innerWidth + 100) state.speedX *= -1;
                if (state.y < -100 || state.y > window.innerHeight + 100) state.speedY *= -1;
            },
            
            // 9. PÃ©ndulo
            pendulum: (state, time) => {
                const swing = Math.sin(time * 0.002 + state.seed) * 200;
                state.x = state.centerX + swing;
                state.y = state.centerY + Math.abs(swing) * 0.5;
                state.rotation = swing * 0.3;
            },
            
            // 10. Teletransporte
            teleport: (state, time) => {
                if (time - state.lastTeleport > state.teleportInterval) {
                    state.x = Math.random() * window.innerWidth;
                    state.y = Math.random() * window.innerHeight;
                    state.lastTeleport = time;
                    state.teleportInterval = Math.random() * 3000 + 2000;
                }
                state.rotation += 5;
            },
            
            // 11. Figura 8
            figure8: (state, time) => {
                const t = time * 0.001 + state.seed;
                state.x = state.centerX + Math.sin(t) * 200;
                state.y = state.centerY + Math.sin(t * 2) * 150;
                state.rotation = t * 30;
            },
            
            // 12. ExplosiÃ³n y contracciÃ³n
            pulse: (state, time) => {
                const pulse = Math.sin(time * 0.002) * 150;
                const angle = state.seed;
                state.x = state.centerX + Math.cos(angle) * pulse;
                state.y = state.centerY + Math.sin(angle) * pulse;
                state.scale = 1 + Math.sin(time * 0.002) * 0.5;
            },
            
            // 13. Orbita errÃ¡tica
            erratic: (state, time) => {
                const speed = Math.sin(time * 0.001) * 2;
                state.orbitAngle += 0.02 * speed;
                const wobble = Math.sin(time * 0.005) * 50;
                state.x = state.centerX + Math.cos(state.orbitAngle) * (state.radius + wobble);
                state.y = state.centerY + Math.sin(state.orbitAngle) * (state.radius + wobble);
                state.rotation += speed * 2;
            },
            
            // 14. Diagonal rebotante
            diagonal: (state, time) => {
                state.x += state.speedX;
                state.y += state.speedY;
                
                if (state.x <= 0 || state.x >= window.innerWidth) {
                    state.speedX *= -1;
                    state.x = Math.max(0, Math.min(window.innerWidth, state.x));
                }
                if (state.y <= 0 || state.y >= window.innerHeight) {
                    state.speedY *= -1;
                    state.y = Math.max(0, Math.min(window.innerHeight, state.y));
                }
                state.rotation += 0.8;
            }
        };
        
        const movementNames = Object.keys(MOVEMENTS);
        
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // CREAR UNA ELLIE CON ESTADO ALEATORIO
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        function createEllie(index) {
            const element = document.createElement('div');
            element.className = 'ellie';
            
            const img = document.createElement('img');
            img.src = CONFIG.ellieImages[index];
            element.appendChild(img);
            
            universe.appendChild(element);
            
            const size = Math.random() * (CONFIG.maxSize - CONFIG.minSize) + CONFIG.minSize;
            element.style.width = `${size}px`;
            element.style.height = `${size}px`;
            
            const state = {
                element: element,
                index: index,
                x: Math.random() * window.innerWidth,
                y: Math.random() * window.innerHeight,
                size: size,
                rotation: Math.random() * 360,
                scale: 1,
                opacity: 1,
                
                // Para movimientos
                speedX: (Math.random() - 0.5) * 4,
                speedY: (Math.random() - 0.5) * 4,
                seed: Math.random() * Math.PI * 2,
                centerX: Math.random() * window.innerWidth,
                centerY: Math.random() * window.innerHeight,
                baseY: Math.random() * window.innerHeight,
                radius: Math.random() * 200 + 80,
                orbitAngle: Math.random() * Math.PI * 2,
                
                // Control de movimiento
                currentMovement: movementNames[Math.floor(Math.random() * movementNames.length)],
                nextChangeTime: Date.now() + Math.random() * 6000 + 4000,
                
                // Para teletransporte
                lastTeleport: 0,
                teleportInterval: 3000,
                
                // Control de visibilidad (mÃ¡s probabilidad de estar visible)
                visible: Math.random() > 0.2,
                nextVisibilityChange: Date.now() + Math.random() * 15000 + 10000,
                
                // Cambio de tamaÃ±o
                targetSize: size,
                nextSizeChange: Date.now() + Math.random() * 12000 + 8000
            };
            
            ellies.push(state);
        }
        
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // ACTUALIZAR ELLIE
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        function updateEllie(state, time) {
            // Cambiar movimiento aleatoriamente
            if (time > state.nextChangeTime) {
                state.currentMovement = movementNames[Math.floor(Math.random() * movementNames.length)];
                state.nextChangeTime = time + Math.random() * 6000 + 4000; // MÃ¡s frecuente
                
                // Recalcular parÃ¡metros
                state.centerX = Math.random() * window.innerWidth;
                state.centerY = Math.random() * window.innerHeight;
                state.radius = Math.random() * 200 + 80;
                state.speedX = (Math.random() - 0.5) * 4; // MÃ¡s rÃ¡pido
                state.speedY = (Math.random() - 0.5) * 4;
                
                createTrail(state.x, state.y);
            }
            
            // Cambiar visibilidad aleatoriamente (menos frecuente para que haya mÃ¡s visibles)
            if (time > state.nextVisibilityChange) {
                state.visible = Math.random() > 0.2; // 80% de probabilidad de estar visible
                state.opacity = state.visible ? 1 : 0;
                state.nextVisibilityChange = time + Math.random() * 15000 + 10000;
            }
            
            // Cambiar tamaÃ±o aleatoriamente
            if (time > state.nextSizeChange) {
                state.targetSize = Math.random() * (CONFIG.maxSize - CONFIG.minSize) + CONFIG.minSize;
                state.nextSizeChange = time + Math.random() * 10000 + 6000;
            }
            
            // Interpolar tamaÃ±o suavemente
            state.size += (state.targetSize - state.size) * 0.02;
            state.element.style.width = `${state.size}px`;
            state.element.style.height = `${state.size}px`;
            
            // Ejecutar movimiento actual
            if (MOVEMENTS[state.currentMovement]) {
                MOVEMENTS[state.currentMovement](state, time);
            }
            
            // Aplicar transformaciÃ³n
            state.element.style.transform = `
                translate(${state.x}px, ${state.y}px)
                rotate(${state.rotation}deg)
                scale(${state.scale})
            `;
            state.element.style.opacity = state.opacity;
        }
        
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // CREAR ESTELA DE MOVIMIENTO
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        function createTrail(x, y) {
            const trail = document.createElement('div');
            trail.className = 'trail';
            const size = Math.random() * 30 + 20;
            trail.style.width = `${size}px`;
            trail.style.height = `${size}px`;
            trail.style.left = `${x}px`;
            trail.style.top = `${y}px`;
            trail.style.opacity = '0.6';
            universe.appendChild(trail);
            
            setTimeout(() => {
                trail.style.opacity = '0';
                trail.style.transform = 'scale(2)';
                trail.style.transition = 'all 1s ease-out';
                setTimeout(() => trail.remove(), 1000);
            }, 50);
        }
        
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // LOOP DE ANIMACIÃ“N
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        function animate() {
            const time = Date.now();
            
            ellies.forEach(state => updateEllie(state, time));
            
            animationFrame = requestAnimationFrame(animate);
        }
        
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // INICIALIZAR
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        function init() {
            createStars();
            
            // Crear mÃºltiples copias de cada Ellie
            CONFIG.ellieImages.forEach((imageSrc, imageIndex) => {
                for (let copy = 0; copy < CONFIG.copiesPerImage; copy++) {
                    createEllie(imageIndex);
                }
            });
            
            // Iniciar animaciÃ³n
            animate();
            
            const totalEllies = CONFIG.ellieImages.length * CONFIG.copiesPerImage;
            console.log(`ğŸ± Ellieverso caÃ³tico activado - ${totalEllies} Ellies con vida propia`);
        }
        
        // Manejar redimensionamiento
        window.addEventListener('resize', () => {
            ellies.forEach(state => {
                // Reposicionar si estÃ¡ fuera de pantalla
                if (state.x > window.innerWidth) state.x = window.innerWidth - 100;
                if (state.y > window.innerHeight) state.y = window.innerHeight - 100;
            });
        });
        
        // Precargar imÃ¡genes y iniciar
        window.addEventListener('load', () => {
            let loadedImages = 0;
            const totalImages = CONFIG.ellieImages.length;
            
            CONFIG.ellieImages.forEach(src => {
                const img = new Image();
                img.onload = () => {
                    loadedImages++;
                    if (loadedImages === totalImages) {
                        setTimeout(init, 100);
                    }
                };
                img.src = src;
            });
        });
        
        // Limpiar al salir
        window.addEventListener('beforeunload', () => {
            if (animationFrame) {
                cancelAnimationFrame(animationFrame);
            }
        });
    </script>
</body>
</html>